import{_ as x,f as L,m as g,L as $,r as l,o,c as n,a as t,b as d,F as c,g as q,w as r,t as i,j as f,h as V,i as p,k as j,E as S,d as u}from"./index-Tl3ByFI-.js";import{C as y,s as N}from"./CartStore-0A-0F_bQ.js";import"./sweetalert2.all-pUKmrL9Z.js";const T={data(){return{isLoadingStatus:{isLoading:!1,cartLoading:""}}},methods:{...L(y,["getCarts","changeToCart","deleteCart"])},computed:{...g(y,["carts","isLoading"]),...g(N,["isLoading"])},components:{Loading:$},mounted(){this.getCarts()}},U=V('<div class="container"><div class="pt-4 pb-3 mb-3"><div class="row justify-content-center"><div class="col-9 col-md-7 timeline"></div></div><div class="row mb-2"><div class="col-3 col-md-5"><div class="timeline-pointer text-center step-1 active"><p>購物清單確認</p></div></div><div class="col-6 col-md-2"><div class="timeline-pointer text-center step-2"><p>填寫訂單</p></div></div><div class="col-3 col-md-5"><div class="timeline-pointer text-center step-3"><p>購物完成</p></div></div></div></div></div>',1),B={class:"container"},D={class:"row justify-content-center p-3"},E={class:"col-md-8 shadow-sm bg-white p-3"},F=t("h3",{class:"ps-2 text-primary mb-5"},"購物車清單",-1),M={class:"table-responsive mb-3"},R={class:"table align-middle"},A=t("thead",null,[t("tr",null,[t("th",{class:"text-nowrap",scope:"col"},"產品圖片"),t("th",{class:"text-nowrap",scope:"col"},"產品名稱"),t("th",{class:"text-nowrap",scope:"col"},"產品售價"),t("th",{class:"text-nowrap",width:"150"},"數量"),t("th",{class:"text-nowrap",scope:"col"},"總價"),t("th",{class:"text-nowrap",scope:"col"})])],-1),z={width:"90"},G=["src","alt"],H={class:"text-nowrap"},I={class:"text-nowrap"},J={class:"input-group flex-nowrap"},K={class:"input-group-prepend"},O=["disabled","onClick"],P=["onUpdate:modelValue","disabled"],Q={class:"input-group-append"},W=["onClick"],X={class:"d-none d-md-block text-black",href:"#"},Y=["onClick"],Z=t("span",{class:"material-icons"},"keyboard_return",-1),tt={key:0,class:"row justify-content-end"},st={class:"col-md-8 mb-3"},et={class:"d-flex justify-content-end align-items-center"},ot=t("span",{class:"fs-5 me-3"},"總金額",-1),nt={class:"fs-4 fw-bold text-end text-danger"},it={key:0,class:"col-md-8 d-flex justify-content-end"},at=t("p",{class:"text-center h4 mb-3"},"目前購物車為空的狀態喔!，再去選購吧~",-1),dt={class:"text-center"};function ct(e,_,lt,rt,w,pt){var m,v,b;const k=l("Loading"),h=l("router-link"),C=l("RouterLink");return o(),n(c,null,[U,t("div",B,[d(k,{active:e.isLoading,"onUpdate:active":_[0]||(_[0]=s=>e.isLoading=s)},null,8,["active"]),t("div",D,[t("div",E,[F,(m=e.carts.carts)!=null&&m.length?(o(),n(c,{key:0},[t("div",M,[t("table",R,[A,(o(!0),n(c,null,q(e.carts.carts,s=>(o(),n("tbody",{key:s.id+"cart"},[t("tr",null,[t("td",z,[t("img",{src:s.product.imageUrl,alt:`商品圖片-${s.id}`,class:"img-fluid rounded-3 object-fit-cover"},null,8,G)]),t("td",H,i(s.product.title),1),t("td",null,i(e.$filters.currency(s.product.price)),1),t("td",I,[t("div",J,[t("div",K,[t("button",{class:"btn btn-outline-success",type:"button",disabled:s.qty===1,onClick:p(a=>{s.qty--,e.changeToCart(s,s.qty)},["prevent"])},"-",8,O)]),j(t("input",{type:"text",class:"form-control text-center",value:"1",readonly:"","onUpdate:modelValue":a=>s.qty=a,disabled:w.isLoadingStatus.cartLoading===s.id,style:{width:"80px"}},null,8,P),[[S,s.qty]]),t("div",Q,[t("button",{class:"btn btn-outline-success",type:"button",onClick:p(a=>{s.qty++,e.changeToCart(s,s.qty)},["prevent"])},"+",8,W),t("span",null,i(s.product.unit),1)])])]),t("td",null,i(e.$filters.currency(s.product.price*s.qty)),1),t("td",null,[t("a",X,[t("span",{class:"trash bi bi-trash fs-2",onClick:p(a=>e.deleteCart(s.id),["prevent"])},null,8,Y)])])])]))),128))])]),d(h,{to:"/products",class:"d-inline-flex align-items-center text-decoration-none"},{default:r(()=>[Z,u(" 回產品列表 ")]),_:1}),((v=e.carts.carts)==null?void 0:v.length)>0?(o(),n("div",tt,[t("div",st,[t("div",et,[ot,t("span",nt,i(e.$filters.currency(e.carts.total)),1)])]),(b=e.carts.carts)!=null&&b.length?(o(),n("div",it,[d(C,{to:"/order",class:"btn btn-primary"},{default:r(()=>[u("確認訂單")]),_:1})])):f("",!0)])):f("",!0)],64)):(o(),n(c,{key:1},[at,t("div",dt,[d(h,{class:"w-25 btn btn-primary",to:"/products"},{default:r(()=>[u("購物去")]),_:1})])],64))])])])],64)}const mt=x(T,[["render",ct]]);export{mt as default};
