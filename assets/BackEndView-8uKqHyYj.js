import{S as l}from"./sweetalert2.all-GnOSIWuL.js";import{_ as h,r as c,o as p,c as _,a as s,n as b,b as i,w as r,i as f,j as g}from"./index-4UP9KNF0.js";var v={VITE_APP_API_URL:"https://ec-course-api.hexschool.io/v2",VITE_APP_API_NAME:"leo535",BASE_URL:"/flash-taste/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_API_URL:u}=v,x={data(){return{sidebarActive:!1,checkUserStatus:!1}},methods:{checkUser(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.axios.defaults.headers.common.Authorization=t,this.axios.post(`${u}/api/user/check`).then(e=>{this.checkUserStatus=e.data.success,l.fire({position:"top-end",icon:"info",title:"驗證中",timer:1500}),this.checkUserStatus?this.$router.push("/admin/products"):this.$router.push("/login")}).catch(e=>{l.fire({position:"top-end",icon:"error",title:e.response.data.message,showConfirmButton:!1,timer:1500}),this.$router.push("/login")})},toggleSidebar(){this.sidebarActive=!this.sidebarActive;const t=document.getElementById("sidebar-overlay");this.sidebarActive?t.classList.remove("d-none"):t.classList.add("d-none")},closeSidebar(){this.sidebarActive=!1,document.getElementById("sidebar-overlay").classList.add("d-none")},logout(){this.axios.post(`${u}/logout`).then(t=>{document.cookie=`hexToken=; expires=${new Date};`,l.fire({position:"top-end",icon:"success",title:t.data.message,showConfirmButton:!1,timer:1500}),this.$router.push("/login")}).catch(t=>{l.fire({position:"top-end",icon:"error",title:t.response.data.message,showConfirmButton:!1,timer:1500})})}},mounted(){this.checkUser()}},w={key:0,class:"container-fluid"},k={class:"row"},y=s("h1",{class:"bi bi-bootstrap text-primary d-flex my-4 justify-content-center"},null,-1),A={class:"list-group rounded-0"},S=s("span",{class:"bi bi-border-all"},null,-1),E=s("span",{class:"ms-2"},"回前台",-1),B=s("span",{class:"bi bi-box"},null,-1),C=s("span",{class:"ms-2"},"商品管理",-1),P=s("span",{class:"bi bi-envelope-paper"},null,-1),L=s("span",{class:"ms-2"},"訂單管理",-1),U=s("span",{class:"bi bi-ticket"},null,-1),I=s("span",{class:"ms-2"},"優惠券管理",-1),V=s("span",{class:"bi bi-journal-text"},null,-1),R=s("span",{class:"ms-2"},"文章管理",-1),$={class:"col-md-9 col-lg-10 ms-md-auto px-0"},T={class:"w-100 d-flex px-4 py-2 mb-4 shadow-sm"},D=s("span",{class:"bi bi-list text-primary h3"},null,-1),N=[D],j={class:"dropdown ms-auto"},M=s("button",{class:"btn py-0 d-flex align-items-center",id:"logout-dropdown","data-bs-toggle":"dropdown","aria-expanded":"false"},[s("span",{class:"bi bi-person text-primary h4"}),s("span",{class:"bi bi-chevron-down ms-1 mb-2"})],-1),O={class:"dropdown-menu border-0 shadow-sm","aria-labelledby":"logout-dropdown"},z={class:"container"};function q(t,e,F,G,d,o){const a=c("RouterLink"),m=c("router-view");return d.checkUserStatus?(p(),_("div",w,[s("div",k,[s("div",{class:b(["col-md-3 col-lg-2 px-0 position-fixed h-100 bg-white shadow-sm sidebar",{active:d.sidebarActive}]),ref:"sidebar"},[y,s("div",A,[i(a,{to:"/",href:"#",class:"list-group-item list-group-item-action border-0 d-flex align-items-center"},{default:r(()=>[S,E]),_:1}),i(a,{to:"/admin/products",href:"#",class:"list-group-item border-0 align-items-center"},{default:r(()=>[B,C]),_:1}),i(a,{to:"/admin/order",href:"#",class:"list-group-item border-0 align-items-center"},{default:r(()=>[P,L]),_:1}),i(a,{to:"/admin/coupon",href:"#",class:"list-group-item border-0 align-items-center"},{default:r(()=>[U,I]),_:1}),i(a,{to:"/admin/article",href:"#",class:"list-group-item border-0 align-items-center"},{default:r(()=>[V,R]),_:1})])],2),s("div",{class:"w-100 vh-100 position-fixed overlay d-none",id:"sidebar-overlay",onClick:e[0]||(e[0]=(...n)=>o.closeSidebar&&o.closeSidebar(...n))}),s("div",$,[s("nav",T,[s("button",{class:"btn py-0 d-md-none",onClick:e[1]||(e[1]=(...n)=>o.toggleSidebar&&o.toggleSidebar(...n))},N),s("div",j,[M,s("div",O,[s("a",{class:"dropdown-item",href:"#",onClick:e[2]||(e[2]=f((...n)=>o.logout&&o.logout(...n),["prevent"]))},"Logout")])])]),s("main",null,[s("div",z,[i(m)])])])])])):g("",!0)}const K=h(x,[["render",q]]);export{K as default};
