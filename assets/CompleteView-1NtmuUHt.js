import{S as v}from"./sweetalert2.all-MRn1yC2v.js";import{_ as u,o as c,c as r,a as t,F as m,g as f,t as e,d as g,i as b,h as y,p as w,e as x}from"./index-3rBGGD-7.js";var I={VITE_APP_API_URL:"https://ec-course-api.hexschool.io/v2",VITE_APP_API_NAME:"leo535",BASE_URL:"/flash-taste/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_API_URL:p,VITE_APP_API_NAME:_}=I,P={data(){return{order:{total:0,products:[],user:{}}}},methods:{getOrder(){const s=this.$route.params.order_id,a=this.$loading.show();this.axios.get(`${p}/api/${_}/order/${s}`).then(i=>{const{order:n}=i.data;this.order=n,a.hide()}).catch(i=>{v.fire({position:"top-end",icon:"error",title:i.response.data.message,showConfirmButton:!1,timer:1500})})},pay(){const s=this.$route.params.order_id,a=this.$loading.show();this.$http.post(`${p}/api/${_}/pay/${s}`).then(i=>{this.getOrder(),a.hide(),this.$router.push("/pay")})}},mounted(){this.getOrder()}},l=s=>(w("data-v-78648714"),s=s(),x(),s),E={class:"container"},A=y('<div class="pt-4 pb-3" data-v-78648714><div class="container" data-v-78648714><div class="row justify-content-center" data-v-78648714><div class="col-9 col-md-7 timeline" data-v-78648714></div></div><div class="row mb-2" data-v-78648714><div class="col-3 col-md-5" data-v-78648714><div class="timeline-pointer text-center step-1 active" data-v-78648714><p data-v-78648714>購物清單確認</p></div></div><div class="col-6 col-md-2" data-v-78648714><div class="timeline-pointer text-center step-2 active" data-v-78648714><p data-v-78648714>填寫訂單</p></div></div><div class="col-3 col-md-5" data-v-78648714><div class="timeline-pointer text-center step-3 active" data-v-78648714><p data-v-78648714>購物完成</p></div></div></div></div></div><div class="row justify-content-center px-3" data-v-78648714><div class="col-md-8 bg-white p-3 shadow-sm" data-v-78648714><h3 class="text-primary mb-5" data-v-78648714>訂單已成立</h3></div></div>',2),O={class:"row justify-content-center px-3"},S={class:"col-md-8 bg-white p-3 shadow-sm"},V=l(()=>t("h4",{class:"mb-2"},"購買品項",-1)),$={class:"col-3"},k=["src","alt"],j={class:"col-6 text-center"},B={class:"col-3 text-end"},N={class:"me-2"},R=l(()=>t("div",{class:"row pt-3"},[t("hr",{class:"w-100 col-md-9 border-2 border-top"})],-1)),T={class:"accordion mb-3",id:"accordionFlushExample"},D={class:"accordion-item"},F=l(()=>t("h2",{class:"accordion-header",id:"flush-headingOne"},[t("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseOne","aria-expanded":"false","aria-controls":"flush-collapseOne"}," 查看詳細資訊 ")],-1)),L={id:"flush-collapseOne",class:"accordion-collapse collapse","aria-labelledby":"flush-headingOne","data-bs-parent":"#accordionFlushExample"},M={class:"p-3"},U={class:"fs-5"},C={class:"text-danger"},q={class:"d-flex justify-content-center"},X={key:1};function z(s,a,i,n,o,h){return c(),r("div",E,[A,t("div",O,[t("div",S,[V,(c(!0),r(m,null,f(o.order.products,d=>(c(),r("div",{class:"row mb-3 justify-content-center align-items-center",key:d.id},[t("div",$,[t("img",{src:d.product.imageUrl,alt:d.product.title,class:"img-fluid"},null,8,k)]),t("div",j,[t("span",null,e(d.product.title),1),t("span",null,"X"+e(d.qty),1)]),t("div",B,[t("span",N,e(s.$filters.currency(d.product.price)),1)]),R]))),128)),t("div",T,[t("div",D,[F,t("div",L,[t("div",M,[t("p",null,"顧客姓名:"+e(o.order.user.name),1),t("p",null,"顧客地址:"+e(o.order.user.address),1),t("p",null,"聯絡電話:"+e(o.order.user.tel),1),t("p",null,"訂單編號:"+e(o.order.id),1),t("p",null,"訂單狀態:"+e(o.order.is_paid?"付款完成":"尚未付款"),1),t("p",U,[g("總金額:"),t("strong",C,e(s.$filters.currency(o.order.total)),1)])])])])]),t("div",q,[o.order.is_paid!==!0?(c(),r("button",{key:0,type:"button",class:"btn btn-primary",onClick:a[0]||(a[0]=b(()=>h.pay(),["prevent"]))},"前往付款")):(c(),r("div",X))])])])])}const J=u(P,[["render",z],["__scopeId","data-v-78648714"]]);export{J as default};
