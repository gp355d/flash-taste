import{_ as k,f as C,m as w,r as h,o,c as n,a as t,b as l,w as a,F as v,g as x,t as c,j as f,h as $,d as r,i as d,k as q,H as L}from"./index-G37FbWeX.js";import{C as b}from"./CartStore-5NoZYp9z.js";import"./sweetalert2.all-0C7aQ452.js";const V={data(){return{isLoadingStatus:{isLoading:!1,cartLoading:""}}},methods:{...C(b,["getCarts","changeToCart","deleteCart"])},computed:{...w(b,["carts"])},mounted(){this.getCarts()}},j={class:"container"},S={class:"pt-4 pb-3 mb-3"},N=$('<div class="row justify-content-center"><div class="col-9 col-md-7 timeline"></div></div><div class="row mb-2"><div class="col-3 col-md-5"><div class="timeline-pointer text-center step-1 active"><p>購物清單確認</p></div></div><div class="col-6 col-md-2"><div class="timeline-pointer text-center step-2"><p>填寫訂單</p></div></div><div class="col-3 col-md-5"><div class="timeline-pointer text-center step-3"><p>購物完成</p></div></div></div>',2),T=t("span",{class:"material-icons"},"keyboard_return",-1),B={class:"cart-list container p-4"},U=t("h4",null,"購物車清單",-1),D={class:"row d-flex justify-content-center"},F={class:"col-md-8"},M={class:"col-lg-2 align-self-center text-center"},R=["src","alt"],A={class:"col-lg-10 d-flex flex-md-column justify-content-center"},E={class:"row"},H={class:"col-md-3 align-self-center"},z={class:"mb-0"},G={class:"col-md-9"},I={class:"row"},J={class:"col-md-3 align-self-center"},K={class:"mb-0"},O={class:"col-md-6 align-self-center"},P={class:"input-group"},Q={class:"input-group-prepend"},W=["disabled","onClick"],X=["onUpdate:modelValue","disabled"],Y={class:"input-group-append"},Z=["onClick"],tt={class:"col-md-2 d-flex align-items-center"},st={class:"mb-0 text-end"},et={class:"col-md-1 d-flex align-items-center justify-content-between"},ot={class:"d-none d-md-block text-black",href:"#"},nt=["onClick"],it=["onClick"],ct={key:1,class:"row"},dt=t("p",{class:"text-center h4 mb-3"},"目前購物車清單為空的狀態喔!，再去選購吧~",-1),lt={class:"text-center"},at={key:0,class:"row"},rt={class:"col-12 mb-6"},_t={class:"d-flex justify-content-end align-items-center"},pt=t("span",{class:"fs-4 me-6"},"總金額",-1),ut={class:"fs-5 text-end text-danger"},mt={class:"container"},ht={key:0,class:"col-12 d-flex justify-content-end"};function vt(e,ft,bt,gt,g,yt){var p,u,m;const y=h("router-link"),_=h("RouterLink");return o(),n(v,null,[t("div",j,[t("div",S,[N,l(y,{to:"/products",class:"d-inline-flex align-items-center text-decoration-none"},{default:a(()=>[T,r(" 回商品列表 ")]),_:1})])]),t("div",B,[U,t("div",D,[t("div",F,[((p=e.carts.carts)==null?void 0:p.length)>0?(o(!0),n(v,{key:0},x(e.carts.carts,s=>(o(),n("div",{class:"row border border-1 mb-2",key:s.id+"cart"},[t("div",M,[t("img",{src:s.product.imageUrl,alt:`商品圖片-${s.id}`,class:"img-fluid rounded-3"},null,8,R)]),t("div",A,[t("div",E,[t("div",H,[t("h5",z,c(s.product.title),1)]),t("div",G,[t("div",I,[t("div",J,[t("p",K,c(e.$filters.currency(s.product.price)),1)]),t("div",O,[t("div",P,[t("div",Q,[t("button",{class:"btn btn-outline-success",type:"button",disabled:s.qty===1,onClick:d(i=>{s.qty--,e.changeToCart(s,s.qty)},["prevent"])},"-",8,W)]),q(t("input",{type:"text",class:"form-control text-center",value:"1",readonly:"","onUpdate:modelValue":i=>s.qty=i,disabled:g.isLoadingStatus.cartLoading===s.id},null,8,X),[[L,s.qty]]),t("div",Y,[t("button",{class:"btn btn-outline-success",type:"button",onClick:d(i=>{s.qty++,e.changeToCart(s,s.qty)},["prevent"])},"+",8,Z),t("span",null,c(s.product.unit),1)])])]),t("div",tt,[t("p",st,c(e.$filters.currency(s.product.price*s.qty)),1)]),t("div",et,[t("a",ot,[t("span",{class:"trash bi bi-trash fs-2",onClick:d(i=>e.deleteCart(s.id),["prevent"])},null,8,nt)]),t("button",{type:"button",class:"w-100 d-md-none d-block btn btn-primary",onClick:d(i=>e.deleteCart(s.id),["prevent"])},"刪除",8,it)])])])])])]))),128)):(o(),n("div",ct,[dt,t("div",lt,[l(_,{class:"w-25 btn btn-primary",to:"/products"},{default:a(()=>[r("購物去")]),_:1})])]))])]),((u=e.carts.carts)==null?void 0:u.length)>0?(o(),n("div",at,[t("div",rt,[t("div",_t,[pt,t("span",ut,c(e.$filters.currency(e.carts.total)),1)])])])):f("",!0)]),t("div",mt,[(m=e.carts.carts)!=null&&m.length?(o(),n("div",ht,[l(_,{to:"/order",class:"btn btn-primary"},{default:a(()=>[r("確認訂單")]),_:1})])):f("",!0)])],64)}const xt=k(V,[["render",vt]]);export{xt as default};
