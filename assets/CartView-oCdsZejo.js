import{_ as C,f as L,m as g,L as $,r as l,o,c as n,a as t,b as d,F as c,g as q,w as r,t as i,j as f,h as V,i as p,k as j,E as S,d as u}from"./index-nUkNPI7V.js";import{C as y,s as N}from"./CartStore-Dk-O6Jm3.js";import"./sweetalert2.all-LXIH1u7k.js";const T={data(){return{isLoadingStatus:{isLoading:!1,cartLoading:""}}},methods:{...L(y,["getCarts","changeToCart","deleteCart"])},computed:{...g(y,["carts","isLoading"]),...g(N,["isLoading"])},components:{Loading:$},mounted(){this.getCarts()}},U=V('<div class="container"><div class="pt-4 pb-3 mb-3"><div class="row justify-content-center"><div class="col-9 col-md-7 timeline"></div></div><div class="row mb-2"><div class="col-3 col-md-5"><div class="timeline-pointer text-center step-1 active"><p>購物清單確認</p></div></div><div class="col-6 col-md-2"><div class="timeline-pointer text-center step-2"><p>填寫訂單</p></div></div><div class="col-3 col-md-5"><div class="timeline-pointer text-center step-3"><p>購物完成</p></div></div></div></div></div>',1),B={class:"container"},D={class:"row justify-content-center p-3"},E={class:"col-md-8 shadow-sm bg-white p-3"},F=t("h3",{class:"ps-2 text-primary mb-5"},"購物車清單",-1),M={class:"table-responsive mb-3"},R={class:"table align-middle"},A=t("thead",null,[t("tr",null,[t("th",{class:"text-nowrap",scope:"col"}),t("th",{class:"text-nowrap",scope:"col"},"產品圖片"),t("th",{class:"text-nowrap",scope:"col"},"產品名稱"),t("th",{class:"text-nowrap",scope:"col"},"產品售價"),t("th",{class:"text-nowrap",width:"150"},"數量"),t("th",{class:"text-nowrap",scope:"col"},"總價")])],-1),z={class:"text-center"},G={class:"text-black",href:"#"},H=["onClick"],I={width:"90"},J=["src","alt"],K={class:"text-nowrap"},O={class:"text-nowrap"},P={class:"input-group flex-nowrap"},Q={class:"input-group-prepend"},W=["disabled","onClick"],X=["onUpdate:modelValue","disabled"],Y={class:"input-group-append"},Z=["onClick"],tt=t("span",{class:"material-icons"},"keyboard_return",-1),st={key:0,class:"row justify-content-end"},et={class:"col-md-8 mb-3"},ot={class:"d-flex justify-content-end align-items-center"},nt=t("span",{class:"fs-5 me-3"},"總金額",-1),it={class:"fs-4 fw-bold text-end text-danger"},at={key:0,class:"col-md-8 d-flex justify-content-end"},dt=t("p",{class:"text-center h4 mb-3"},"目前購物車為空的狀態喔!，再去選購吧~",-1),ct={class:"text-center"};function lt(e,_,rt,pt,w,ut){var m,v,b;const k=l("Loading"),h=l("router-link"),x=l("RouterLink");return o(),n(c,null,[U,t("div",B,[d(k,{active:e.isLoading,"onUpdate:active":_[0]||(_[0]=s=>e.isLoading=s)},null,8,["active"]),t("div",D,[t("div",E,[F,(m=e.carts.carts)!=null&&m.length?(o(),n(c,{key:0},[t("div",M,[t("table",R,[A,(o(!0),n(c,null,q(e.carts.carts,s=>(o(),n("tbody",{key:s.id+"cart"},[t("tr",null,[t("td",z,[t("a",G,[t("span",{class:"trash bi bi-trash fs-3",onClick:p(a=>e.deleteCart(s.id),["prevent"])},null,8,H)])]),t("td",I,[t("img",{src:s.product.imageUrl,alt:`商品圖片-${s.id}`,class:"img-fluid rounded-3 object-fit-cover"},null,8,J)]),t("td",K,i(s.product.title),1),t("td",null,i(e.$filters.currency(s.product.price)),1),t("td",O,[t("div",P,[t("div",Q,[t("button",{class:"btn btn-outline-success",type:"button",disabled:s.qty===1,onClick:p(a=>{s.qty--,e.changeToCart(s,s.qty)},["prevent"]),style:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},"-",8,W)]),j(t("input",{type:"text",class:"form-control text-center",value:"1",readonly:"","onUpdate:modelValue":a=>s.qty=a,disabled:w.isLoadingStatus.cartLoading===s.id,style:{width:"80px"}},null,8,X),[[S,s.qty]]),t("div",Y,[t("button",{class:"btn btn-outline-success",type:"button",onClick:p(a=>{s.qty++,e.changeToCart(s,s.qty)},["prevent"]),style:{"border-top-left-radius":"0","border-bottom-left-radius":"0"}},"+",8,Z),t("span",null,i(s.product.unit),1)])])]),t("td",null,i(e.$filters.currency(s.product.price*s.qty)),1)])]))),128))])]),d(h,{to:"/products",class:"d-inline-flex align-items-center text-decoration-none"},{default:r(()=>[tt,u(" 回產品列表 ")]),_:1}),((v=e.carts.carts)==null?void 0:v.length)>0?(o(),n("div",st,[t("div",et,[t("div",ot,[nt,t("span",it,i(e.$filters.currency(e.carts.total)),1)])]),(b=e.carts.carts)!=null&&b.length?(o(),n("div",at,[d(x,{to:"/order",class:"btn btn-primary"},{default:r(()=>[u("確認訂單")]),_:1})])):f("",!0)])):f("",!0)],64)):(o(),n(c,{key:1},[dt,t("div",ct,[d(h,{class:"w-25 btn btn-primary",to:"/products"},{default:r(()=>[u("購物去")]),_:1})])],64))])])])],64)}const vt=C(T,[["render",lt]]);export{vt as default};
